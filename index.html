<html>
    <head>
        <title >World Death Rate</title>
        <script src="https://code.jquery.com/jquery-latest.min.js"></script>
        <link href="d3.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="https://rawgithub.com/Caged/d3-tip/master/examples/example-styles.css">
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-annotation/2.5.1/d3-annotation.min.js" integrity="sha512-iBAeBWWWFb8HqSBcrqcz98iIpuVH1la39dEYHtyQ/pGpeCQTQVvLJOWAuhv2Q7JSHp9k7hWA7sGxU3hHJe+tFg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    </head>
<!-- load all country names and then draw World data first -->
<body>
    <div class="alert alert-warning">
        <a href="#" class="close" data-dismiss="alert" aria-label="close">x</a>
        The data for the country you chose doesn't exist. Please
      select another country/region.
    </div>

    <!-- Home section -->
    <div id="step1" class="container-fluid" style="height:175px">
        <div>
            <p>
                 <h1 align="center"
    style="font-size:24px;color:White;background-color:rgb(205,162,71);">Scene
    1 - Deaths per year - Worldwide - Past Decades</h1>
                This scene shows the trends of death rates recorded worldwide between the years 1960 to 2021.<br/>
                As you can see in the plot, the worldwide death rates
    have been steadily decreasing, which imply that the overall life expectancy
    of people worldwide has been increasing over the past few
    decades.<br/><br/>
                <i>Data used for the scene comes from WDI(World Bank) in realtime by their APIs, not using pre-loaded CSV file.</i><br/>
            </p>
            <button><div id="to_step2"><a href="#">Click to view Scene 2>></a></div></button>
        </div>
    </div>

    <div id="step2" class="container-fluid" style="display:none;height:175px">
        <div>
            <p>
                <h1 align="center"
        style="font-size:24px;color:White;background-color:rgb(205,162,71);">Scene
        2 - Deaths per year - Worldwide - Between 2017 and 2021</h1>
                This scene shows the trends of death rates recorded worldwide between the years 2017 and 2021.<br/>
                You can see that the COVID-19 had increased the death rate suddenly and change its decreasing
        course. The curve climbs up steadily indicating a considerable increase in deaths between the years 2020 and 2021.<br/><br/>
                <i>Data used for the scene comes from WDI(World Bank) in realtime by their APIs, not using pre-loaded CSV file.</i><br/>
	  </p>
	  <button><div id="startover"><a href="#">&lt;&lt;Click to view Scene 1</a></div></button>
	  <button><div id="to_step3"><a href="#">Click to view Scene 3>></a></div></button>
        </div>
    </div>
    <div id="step3" class="container-fluid" style="display:none;height:250px">
        <div>
            <p>
                 <h1 align="center"
        style="font-size:24px;color:White;background-color:rgb(205,162,71);">Scene
        3 - Deaths per year - Select Country</u></h1>
	  </p>
	<button><div id="to_step1"><a href="#">&lt;&lt;Click to view Scene 1</a></div></button>
	<button><div id="to_clear_step3"><a href="#">Clear</a></div></button>
	  <p>Country is defaulted to "United States". Select a period and a Country/Region
	to view the specific data.</p>
        </div>
        <div>
            <!-- TODO : it's bug and onclick doens't work. Fix it! -->
            <p  style="padding:0px;margin:0px;color:Orange;">Total
        Death Rate <input type="radio" name="type" value="0" checked/></p> 
            <p  style="padding:0px;margin:0px;color:blue;">Death rate
        before COVID<input type="radio" name="type" value="1"/> </p> 
            <p  style="padding:0px;margin:0px;color:red;">Death rate
        during COVID<input type="radio"name="type" value="2"/></p> 
        </div>            
        <div style="color:red;" id="country_select_container">

        </div>
    </div>
    <div class="container-fluid" align ="right" style="height:30px">
    <strong style="color:orange">Orange</strong>=Total Death rate </br><strong
    style="color:blue">Blue</strong> =Death rate before COVID </br><strong
    style="color:red">Red</strong>=Death rate during COVID <br/>
</div>
    <div class="content">
        <svg id="chart"></svg>
    </div>
    
    <script src="https://d3js.org/d3.v5.min.js" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-tip/0.9.1/d3-tip.min.js"></script>
    <script src="script.js" charset="utf-8"></script>
    <script>
    draw('WLD', false, 0);
    $('.alert').hide;
    <!--$('.close').click();-->
    <!--//draw('WLD', false, 1);
        //draw('WLD', false, 2); -->
    </script>
<div class="container-fluid">
    <h4 style="font-size:24px;color:White;background-color:rgb(205,162,71);">About the indicator in WDI:</h4>
    <blockquote>
            Crude death rate indicates the number of deaths occurring
    during the year, per 1,000 population estimated at
    midyear. Subtracting the crude death rate from the crude birth
    rate provides the rate of natural increase, which is equal to the
    rate of population change in the absence of migration. The crude death rate is calculated as the number of deaths in a given period divided by the population exposed to risk of death in that period. For human populations the period is usually one year and, if the population changes in size over the year, the divisor is taken as the population at the mid-year. The rate is usually expressed in terms of 1,000 people: for example, a crude death rate of 9.5 (per 1000 people) in a population of 1 million would imply 9500 deaths per year in the entire population. Subtracting the crude death rate from the crude birth rate provides the rate of natural increase, which is equal to the rate of population change in the absence of migration. Vital rates are based on data from birth and death registration systems, censuses, and sample surveys by national statistical offices and other organizations, or on demographic analysis. Data for the most recent year for some high-income countries are provisional estimates based on vital registers. The estimates for many countries are projections based on extrapolations of levels and trends from earlier years or interpolations of population estimates and projections from the United Nations Population Division.
    </blockquote>
</div>

</body>
<!-- any D3 or SVG related code needs to be stay below of D3 inclusion or SVG so that it exists when javascript code try to access it. -->

</html>